const comingsoon = require('comingsoon')
const app_footer = require('app-footer')

module.exports = growth_page

// CSS Boiler Plat
const sheet = new CSSStyleSheet
const theme = get_theme()
sheet.replaceSync(theme)

function growth_page (opts, protocol) {
  const { data } = opts
  const el = document.createElement('div')
  const shadow = el.attachShadow({ mode: 'closed' })
  // adding a `main-wrapper` 
  shadow.innerHTML = `
    <div class="main-wrapper">
      <div class="main"></div>
    </div>
    <style>${get_theme()}</style>
  `
  const components = [
    comingsoon({ data }),
    app_footer({ data }),
  ]
  const main = shadow.querySelector('.main')
  main.append(...components)
  shadow.adoptedStyleSheets = [sheet]

  return el
}
function get_theme () {
  return `
    * {
      box-sizing: border-box;
    }
    .main-wrapper {
      container-type: inline-size;
      .main {
        margin: 0;
        padding: 30px 10px;
        opacity: 1;
        background-image: radial-gradient(var(--primary_color) 2px, var(--bg_color) 2px);
        background-size: 16px 16px;
      }
    }
    @container (min-width: 856px) {
      .main {
        padding-inline: 20px !important;
      }
    }
  `
}